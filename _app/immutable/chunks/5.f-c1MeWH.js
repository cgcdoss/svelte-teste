import{E as ee,F as te,m as V,h as le,s as se,n as v,r as re,o as ne,v as P}from"./scheduler.B69AaSU2.js";import{A as ae,w as ce,y as ue,v as oe,S as ie,i as _e,l as C,b as p,o as me,d as o,m as y,c as b,k as E,f as F,h as k,a as _,u as Z,e as q,t as O,g as A,j as T,s as B}from"./index.UoIAX6kS.js";function G(l,e){const s=e.token={};function t(r,n,m,f){if(e.token!==s)return;e.resolved=f;let u=e.ctx;m!==void 0&&(u=u.slice(),u[m]=f);const d=r&&(e.current=r)(u);let i=!1;e.block&&(e.blocks?e.blocks.forEach((c,H)=>{H!==n&&c&&(ae(),ce(c,1,1,()=>{e.blocks[H]===c&&(e.blocks[H]=null)}),ue())}):e.block.d(1),d.c(),oe(d,1),d.m(e.mount(),e.anchor),i=!0),e.block=d,e.blocks&&(e.blocks[n]=d),i&&le()}if(ee(l)){const r=te();if(l.then(n=>{V(r),t(e.then,1,e.value,n),V(null)},n=>{if(V(r),t(e.catch,2,e.error,n),V(null),!e.hasCatch)throw n}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,l),!0;e.resolved=l}}function $(l,e,s){const t=e.slice(),{resolved:r}=l;l.current===l.then&&(t[l.value]=r),l.current===l.catch&&(t[l.error]=r),l.block.p(t,s)}function he(l){let e,s="Erro ao obter usuário";return{c(){e=p("div"),e.textContent=s},l(t){e=b(t,"DIV",{"data-svelte-h":!0}),E(e)!=="svelte-xjm3q"&&(e.textContent=s)},m(t,r){_(t,e,r)},p:v,d(t){t&&o(e)}}}function de(l){let e;function s(n,m){return n[5].ok?pe:fe}let t=s(l),r=t(l);return{c(){r.c(),e=q()},l(n){r.l(n),e=q()},m(n,m){r.m(n,m),_(n,e,m)},p(n,m){t===(t=s(n))&&r?r.p(n,m):(r.d(1),r=t(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){n&&o(e),r.d(n)}}}function fe(l){let e,s="Erro ao obter usuário";return{c(){e=p("div"),e.textContent=s},l(t){e=b(t,"DIV",{"data-svelte-h":!0}),E(e)!=="svelte-xjm3q"&&(e.textContent=s)},m(t,r){_(t,e,r)},p:v,d(t){t&&o(e)}}}function pe(l){let e,s,t={ctx:l,current:null,token:null,hasCatch:!1,pending:ke,then:ve,catch:be,value:6};return G(s=l[5].json(),t),{c(){e=q(),t.block.c()},l(r){e=q(),t.block.l(r)},m(r,n){_(r,e,n),t.block.m(r,t.anchor=n),t.mount=()=>e.parentNode,t.anchor=e},p(r,n){l=r,t.ctx=l,n&1&&s!==(s=l[5].json())&&G(s,t)||$(t,l,n)},d(r){r&&o(e),t.block.d(r),t.token=null,t=null}}}function be(l){return{c:v,l:v,m:v,p:v,d:v}}function ve(l){let e,s,t,r,n=l[6].results[0].name.first+"",m,f,u=l[6].results[0].name.last+"",d;return{c(){e=p("div"),s=p("img"),r=C(),m=O(n),f=C(),d=O(u),this.h()},l(i){e=b(i,"DIV",{});var c=F(e);s=b(c,"IMG",{src:!0,alt:!0}),r=y(c),m=A(c,n),f=y(c),d=A(c,u),c.forEach(o),this.h()},h(){P(s.src,t=l[6].results[0].picture.medium)||k(s,"src",t),k(s,"alt","Usuario")},m(i,c){_(i,e,c),T(e,s),T(e,r),T(e,m),T(e,f),T(e,d)},p(i,c){c&1&&!P(s.src,t=i[6].results[0].picture.medium)&&k(s,"src",t),c&1&&n!==(n=i[6].results[0].name.first+"")&&B(m,n),c&1&&u!==(u=i[6].results[0].name.last+"")&&B(d,u)},d(i){i&&o(e)}}}function ke(l){return{c:v,l:v,m:v,p:v,d:v}}function xe(l){let e,s='<h1 class="font-bold text-xl">Carregando...</h1>';return{c(){e=p("div"),e.innerHTML=s,this.h()},l(t){e=b(t,"DIV",{class:!0,"data-svelte-h":!0}),E(e)!=="svelte-6mx1wi"&&(e.innerHTML=s),this.h()},h(){k(e,"class","animate-bounce")},m(t,r){_(t,e,r)},p:v,d(t){t&&o(e)}}}function Ce(l){let e,s,t,r,n=l[1].results[0].name.first+"",m,f,u=l[1].results[0].name.last+"",d;return{c(){e=p("div"),s=p("img"),r=C(),m=O(n),f=C(),d=O(u),this.h()},l(i){e=b(i,"DIV",{});var c=F(e);s=b(c,"IMG",{src:!0,alt:!0}),r=y(c),m=A(c,n),f=y(c),d=A(c,u),c.forEach(o),this.h()},h(){P(s.src,t=l[1].results[0].picture.medium)||k(s,"src",t),k(s,"alt","Usuario")},m(i,c){_(i,e,c),T(e,s),T(e,r),T(e,m),T(e,f),T(e,d)},p(i,c){c&2&&!P(s.src,t=i[1].results[0].picture.medium)&&k(s,"src",t),c&2&&n!==(n=i[1].results[0].name.first+"")&&B(m,n),c&2&&u!==(u=i[1].results[0].name.last+"")&&B(d,u)},d(i){i&&o(e)}}}function ye(l){let e,s='<h2 class="font-bold text-xl">Carregando...</h2>';return{c(){e=p("div"),e.innerHTML=s,this.h()},l(t){e=b(t,"DIV",{class:!0,"data-svelte-h":!0}),E(e)!=="svelte-15xxgpe"&&(e.innerHTML=s),this.h()},h(){k(e,"class","animate-bounce")},m(t,r){_(t,e,r)},p:v,d(t){t&&o(e)}}}function ge(l){let e,s,t="Usando bloco await do Svelte",r,n,m="Novo usuário",f,u,d,i,c,H,M,J=`Usando async/await nativo do JS:
  <p class="inline-block text-sm">(Sem loading global)</p>`,L,w,K="Novo usuário",N,j,D,S,I,Q=`API em uso no exemplo:
  <a class="text-blue-500" href="https://randomuser.me/" target="_blank">https://randomuser.me/</a>`,R,W,x={ctx:l,current:null,token:null,hasCatch:!0,pending:xe,then:de,catch:he,value:5};G(d=l[0],x);function X(a,h){return!a[1]||a[2]?ye:Ce}let U=X(l),g=U(l);return{c(){e=C(),s=p("h1"),s.textContent=t,r=C(),n=p("button"),n.textContent=m,f=C(),u=p("div"),x.block.c(),i=C(),c=p("hr"),H=C(),M=p("h1"),M.innerHTML=J,L=C(),w=p("button"),w.textContent=K,N=C(),g.c(),j=C(),D=p("hr"),S=C(),I=p("div"),I.innerHTML=Q,this.h()},l(a){me("svelte-383ml6",document.head).forEach(o),e=y(a),s=b(a,"H1",{class:!0,"data-svelte-h":!0}),E(s)!=="svelte-1nuxkhe"&&(s.textContent=t),r=y(a),n=b(a,"BUTTON",{class:!0,"data-svelte-h":!0}),E(n)!=="svelte-l2tvlx"&&(n.textContent=m),f=y(a),u=b(a,"DIV",{class:!0});var Y=F(u);x.block.l(Y),Y.forEach(o),i=y(a),c=b(a,"HR",{}),H=y(a),M=b(a,"H1",{class:!0,"data-svelte-h":!0}),E(M)!=="svelte-1xggqiv"&&(M.innerHTML=J),L=y(a),w=b(a,"BUTTON",{class:!0,"data-svelte-h":!0}),E(w)!=="svelte-1204epo"&&(w.textContent=K),N=y(a),g.l(a),j=y(a),D=b(a,"HR",{class:!0}),S=y(a),I=b(a,"DIV",{"data-svelte-h":!0}),E(I)!=="svelte-1p1p10l"&&(I.innerHTML=Q),this.h()},h(){document.title="Svelte teste - Promises",k(s,"class","font-bold text-2xl my-4"),k(n,"class","bg-primary-700 text-white p-2 hover:bg-primary-500 mb-4"),k(u,"class","mb-3"),k(M,"class","font-bold text-2xl my-4"),k(w,"class","bg-primary-700 text-white p-2 hover:bg-primary-500 mb-4"),k(D,"class","my-4")},m(a,h){_(a,e,h),_(a,s,h),_(a,r,h),_(a,n,h),_(a,f,h),_(a,u,h),x.block.m(u,x.anchor=null),x.mount=()=>u,x.anchor=null,_(a,i,h),_(a,c,h),_(a,H,h),_(a,M,h),_(a,L,h),_(a,w,h),_(a,N,h),g.m(a,h),_(a,j,h),_(a,D,h),_(a,S,h),_(a,I,h),R||(W=[Z(n,"click",l[4]),Z(w,"click",l[3])],R=!0)},p(a,[h]){l=a,x.ctx=l,h&1&&d!==(d=l[0])&&G(d,x)||$(x,l,h),U===(U=X(l))&&g?g.p(l,h):(g.d(1),g=U(l),g&&(g.c(),g.m(j.parentNode,j)))},i:v,o:v,d(a){a&&(o(e),o(s),o(r),o(n),o(f),o(u),o(i),o(c),o(H),o(M),o(L),o(w),o(N),o(j),o(D),o(S),o(I)),x.block.d(),x.token=null,x=null,g.d(a),R=!1,re(W)}}}function z(l=!1){return fetch("https://randomuser.me/api/",void 0,l)}function Te(l,e,s){let t=z(),r,n=!1;ne(()=>{m()});async function m(){try{s(2,n=!0);const u=await z(!0);if(u.ok){const d=await u.json();s(1,r=d)}else console.error("Erro ao obter usuário")}catch{console.error("Erro ao obter usuário")}finally{s(2,n=!1)}}return[t,r,n,m,()=>s(0,t=z())]}class we extends ie{constructor(e){super(),_e(this,e,Te,ge,se,{})}}const Me=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"}));export{we as P,Me as _};
