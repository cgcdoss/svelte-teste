import{D as re,E as ne,m as V,h as ae,s as ce,n as d,r as oe,o as ie,v as q,b as ee}from"./scheduler.fGr_Mz3W.js";import{A as ue,r as _e,u as me,q as z,S as fe,i as de,l as T,b as v,n as he,d as i,m as g,c as k,k as M,f as J,h as x,a as _,p as Z,e as j,t as P,g as O,j as E,s as A,y as te}from"./index.DPfmm7dN.js";import{f as le}from"./index.CNB9pEE_.js";function B(n,e){const s=e.token={};function t(l,r,m,p){if(e.token!==s)return;e.resolved=p;let u=e.ctx;m!==void 0&&(u=u.slice(),u[m]=p);const h=l&&(e.current=l)(u);let C=!1;e.block&&(e.blocks?e.blocks.forEach((o,c)=>{c!==r&&o&&(ue(),_e(o,1,1,()=>{e.blocks[c]===o&&(e.blocks[c]=null)}),me())}):e.block.d(1),h.c(),z(h,1),h.m(e.mount(),e.anchor),C=!0),e.block=h,e.blocks&&(e.blocks[r]=h),C&&ae()}if(re(n)){const l=ne();if(n.then(r=>{V(l),t(e.then,1,e.value,r),V(null)},r=>{if(V(l),t(e.catch,2,e.error,r),V(null),!e.hasCatch)throw r}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,n),!0;e.resolved=n}}function se(n,e,s){const t=e.slice(),{resolved:l}=n;n.current===n.then&&(t[n.value]=l),n.current===n.catch&&(t[n.error]=l),n.block.p(t,s)}function $(n){let e,s,t={ctx:n,current:null,token:null,hasCatch:!0,pending:Te,then:be,catch:pe,value:5};return B(s=n[0],t),{c(){e=j(),t.block.c()},l(l){e=j(),t.block.l(l)},m(l,r){_(l,e,r),t.block.m(l,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e},p(l,r){n=l,t.ctx=n,r&1&&s!==(s=n[0])&&B(s,t)||se(t,n,r)},d(l){l&&i(e),t.block.d(l),t.token=null,t=null}}}function pe(n){let e,s="Erro ao obter usuário";return{c(){e=v("div"),e.textContent=s},l(t){e=k(t,"DIV",{"data-svelte-h":!0}),M(e)!=="svelte-xjm3q"&&(e.textContent=s)},m(t,l){_(t,e,l)},p:d,d(t){t&&i(e)}}}function be(n){let e;function s(r,m){return r[5].ok?ke:ve}let t=s(n),l=t(n);return{c(){l.c(),e=j()},l(r){l.l(r),e=j()},m(r,m){l.m(r,m),_(r,e,m)},p(r,m){t===(t=s(r))&&l?l.p(r,m):(l.d(1),l=t(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){r&&i(e),l.d(r)}}}function ve(n){let e,s="Erro ao obter usuário";return{c(){e=v("div"),e.textContent=s},l(t){e=k(t,"DIV",{"data-svelte-h":!0}),M(e)!=="svelte-xjm3q"&&(e.textContent=s)},m(t,l){_(t,e,l)},p:d,d(t){t&&i(e)}}}function ke(n){let e,s,t={ctx:n,current:null,token:null,hasCatch:!1,pending:ye,then:xe,catch:Ce,value:6};return B(s=n[5].json(),t),{c(){e=j(),t.block.c()},l(l){e=j(),t.block.l(l)},m(l,r){_(l,e,r),t.block.m(l,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e},p(l,r){n=l,t.ctx=n,r&1&&s!==(s=n[5].json())&&B(s,t)||se(t,n,r)},d(l){l&&i(e),t.block.d(l),t.token=null,t=null}}}function Ce(n){return{c:d,l:d,m:d,p:d,i:d,o:d,d}}function xe(n){let e,s,t,l,r=n[6].results[0].name.first+"",m,p,u=n[6].results[0].name.last+"",h,C;return{c(){e=v("div"),s=v("img"),l=T(),m=P(r),p=T(),h=P(u),this.h()},l(o){e=k(o,"DIV",{});var c=J(e);s=k(c,"IMG",{src:!0,alt:!0}),l=g(c),m=O(c,r),p=g(c),h=O(c,u),c.forEach(i),this.h()},h(){q(s.src,t=n[6].results[0].picture.medium)||x(s,"src",t),x(s,"alt","Usuario")},m(o,c){_(o,e,c),E(e,s),E(e,l),E(e,m),E(e,p),E(e,h)},p(o,c){c&1&&!q(s.src,t=o[6].results[0].picture.medium)&&x(s,"src",t),c&1&&r!==(r=o[6].results[0].name.first+"")&&A(m,r),c&1&&u!==(u=o[6].results[0].name.last+"")&&A(h,u)},i(o){o&&(C||ee(()=>{C=te(e,le,{y:250}),C.start()}))},o:d,d(o){o&&i(e)}}}function ye(n){return{c:d,l:d,m:d,p:d,i:d,o:d,d}}function Te(n){let e,s='<h1 class="font-bold text-xl">Carregando...</h1>';return{c(){e=v("div"),e.innerHTML=s,this.h()},l(t){e=k(t,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1h7cbj6"&&(e.innerHTML=s),this.h()},h(){x(e,"class","animate-bounce")},m(t,l){_(t,e,l)},p:d,d(t){t&&i(e)}}}function ge(n){let e,s,t,l,r=n[1].results[0].name.first+"",m,p,u=n[1].results[0].name.last+"",h,C;return{c(){e=v("div"),s=v("img"),l=T(),m=P(r),p=T(),h=P(u),this.h()},l(o){e=k(o,"DIV",{});var c=J(e);s=k(c,"IMG",{src:!0,alt:!0}),l=g(c),m=O(c,r),p=g(c),h=O(c,u),c.forEach(i),this.h()},h(){q(s.src,t=n[1].results[0].picture.medium)||x(s,"src",t),x(s,"alt","Usuario")},m(o,c){_(o,e,c),E(e,s),E(e,l),E(e,m),E(e,p),E(e,h)},p(o,c){c&2&&!q(s.src,t=o[1].results[0].picture.medium)&&x(s,"src",t),c&2&&r!==(r=o[1].results[0].name.first+"")&&A(m,r),c&2&&u!==(u=o[1].results[0].name.last+"")&&A(h,u)},i(o){o&&(C||ee(()=>{C=te(e,le,{y:-250}),C.start()}))},o:d,d(o){o&&i(e)}}}function Ee(n){let e,s='<h2 class="font-bold text-xl">Carregando...</h2>';return{c(){e=v("div"),e.innerHTML=s,this.h()},l(t){e=k(t,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-15xxgpe"&&(e.innerHTML=s),this.h()},h(){x(e,"class","animate-bounce")},m(t,l){_(t,e,l)},p:d,i:d,o:d,d(t){t&&i(e)}}}function He(n){let e,s,t="Usando bloco await do Svelte",l,r,m="Novo usuário",p,u,h,C,o,c,F=`Usando async/await nativo do JS:
  <p class="inline-block text-sm">(Sem loading global)</p>`,N,H,K="Novo usuário",L,I,D,S,w,Q=`API em uso no exemplo:
  <a class="text-blue-500" href="https://randomuser.me/" target="_blank">https://randomuser.me/</a>`,G,W,b=n[0]&&$(n);function X(a,f){return!a[1]||a[2]?Ee:ge}let U=X(n),y=U(n);return{c(){e=T(),s=v("h1"),s.textContent=t,l=T(),r=v("button"),r.textContent=m,p=T(),u=v("div"),b&&b.c(),h=T(),C=v("hr"),o=T(),c=v("h1"),c.innerHTML=F,N=T(),H=v("button"),H.textContent=K,L=T(),y.c(),I=T(),D=v("hr"),S=T(),w=v("div"),w.innerHTML=Q,this.h()},l(a){he("svelte-383ml6",document.head).forEach(i),e=g(a),s=k(a,"H1",{class:!0,"data-svelte-h":!0}),M(s)!=="svelte-1nuxkhe"&&(s.textContent=t),l=g(a),r=k(a,"BUTTON",{class:!0,"data-svelte-h":!0}),M(r)!=="svelte-l2tvlx"&&(r.textContent=m),p=g(a),u=k(a,"DIV",{class:!0});var Y=J(u);b&&b.l(Y),Y.forEach(i),h=g(a),C=k(a,"HR",{}),o=g(a),c=k(a,"H1",{class:!0,"data-svelte-h":!0}),M(c)!=="svelte-1xggqiv"&&(c.innerHTML=F),N=g(a),H=k(a,"BUTTON",{class:!0,"data-svelte-h":!0}),M(H)!=="svelte-1204epo"&&(H.textContent=K),L=g(a),y.l(a),I=g(a),D=k(a,"HR",{class:!0}),S=g(a),w=k(a,"DIV",{"data-svelte-h":!0}),M(w)!=="svelte-1p1p10l"&&(w.innerHTML=Q),this.h()},h(){document.title="Svelte teste - Promises",x(s,"class","font-bold text-2xl my-4"),x(r,"class","bg-primary-700 text-white p-2 hover:bg-primary-500 mb-4"),x(u,"class","mb-3"),x(c,"class","font-bold text-2xl my-4"),x(H,"class","bg-primary-700 text-white p-2 hover:bg-primary-500 mb-4"),x(D,"class","my-4")},m(a,f){_(a,e,f),_(a,s,f),_(a,l,f),_(a,r,f),_(a,p,f),_(a,u,f),b&&b.m(u,null),_(a,h,f),_(a,C,f),_(a,o,f),_(a,c,f),_(a,N,f),_(a,H,f),_(a,L,f),y.m(a,f),_(a,I,f),_(a,D,f),_(a,S,f),_(a,w,f),G||(W=[Z(r,"click",n[4]),Z(H,"click",n[3])],G=!0)},p(a,[f]){a[0]?b?b.p(a,f):(b=$(a),b.c(),b.m(u,null)):b&&(b.d(1),b=null),U===(U=X(a))&&y?y.p(a,f):(y.d(1),y=U(a),y&&(y.c(),z(y,1),y.m(I.parentNode,I)))},i(a){z(y)},o:d,d(a){a&&(i(e),i(s),i(l),i(r),i(p),i(u),i(h),i(C),i(o),i(c),i(N),i(H),i(L),i(I),i(D),i(S),i(w)),b&&b.d(),y.d(a),G=!1,oe(W)}}}function R(n=!1){return fetch("https://randomuser.me/api/",void 0,n)}function Me(n,e,s){let t,l,r=!1;ie(()=>{s(0,t=R()),m()});async function m(){try{s(2,r=!0);const u=await R(!0);if(u.ok){const h=await u.json();s(1,l=h)}else console.error("Erro ao obter usuário")}catch{console.error("Erro ao obter usuário")}finally{s(2,r=!1)}}return[t,l,r,m,()=>s(0,t=R())]}class we extends fe{constructor(e){super(),de(this,e,Me,He,ce,{})}}const Ne=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"}));export{we as P,Ne as _};
