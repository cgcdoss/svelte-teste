import{a4 as re,a5 as ne,V as U,R as ae,s as ce,o as g,a as v,v as oe,d as i,p as H,b as k,l as w,f as F,h as x,i as _,x as Z,n as d,y as ie,H as ue,e as j,t as P,g as q,z as O,j as T,k as z,F as ee}from"./scheduler.PqghxXq4.js";import{g as _e,a as me,c as fe,t as G,S as de,i as he,e as te}from"./index.CdhV_oW4.js";import{f as le}from"./index.DFe3Lfdp.js";function R(n,e){const s=e.token={};function t(l,r,m,p){if(e.token!==s)return;e.resolved=p;let u=e.ctx;m!==void 0&&(u=u.slice(),u[m]=p);const h=l&&(e.current=l)(u);let C=!1;e.block&&(e.blocks?e.blocks.forEach((o,c)=>{c!==r&&o&&(_e(),me(o,1,1,()=>{e.blocks[c]===o&&(e.blocks[c]=null)}),fe())}):e.block.d(1),h.c(),G(h,1),h.m(e.mount(),e.anchor),C=!0),e.block=h,e.blocks&&(e.blocks[r]=h),C&&ae()}if(re(n)){const l=ne();if(n.then(r=>{U(l),t(e.then,1,e.value,r),U(null)},r=>{if(U(l),t(e.catch,2,e.error,r),U(null),!e.hasCatch)throw r}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,n),!0;e.resolved=n}}function se(n,e,s){const t=e.slice(),{resolved:l}=n;n.current===n.then&&(t[n.value]=l),n.current===n.catch&&(t[n.error]=l),n.block.p(t,s)}function $(n){let e,s,t={ctx:n,current:null,token:null,hasCatch:!0,pending:ge,then:be,catch:pe,value:5};return R(s=n[0],t),{c(){e=j(),t.block.c()},l(l){e=j(),t.block.l(l)},m(l,r){_(l,e,r),t.block.m(l,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e},p(l,r){n=l,t.ctx=n,r&1&&s!==(s=n[0])&&R(s,t)||se(t,n,r)},d(l){l&&i(e),t.block.d(l),t.token=null,t=null}}}function pe(n){let e,s="Erro ao obter usuário";return{c(){e=v("div"),e.textContent=s},l(t){e=k(t,"DIV",{"data-svelte-h":!0}),w(e)!=="svelte-xjm3q"&&(e.textContent=s)},m(t,l){_(t,e,l)},p:d,d(t){t&&i(e)}}}function be(n){let e;function s(r,m){return r[5].ok?ke:ve}let t=s(n),l=t(n);return{c(){l.c(),e=j()},l(r){l.l(r),e=j()},m(r,m){l.m(r,m),_(r,e,m)},p(r,m){t===(t=s(r))&&l?l.p(r,m):(l.d(1),l=t(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){r&&i(e),l.d(r)}}}function ve(n){let e,s="Erro ao obter usuário";return{c(){e=v("div"),e.textContent=s},l(t){e=k(t,"DIV",{"data-svelte-h":!0}),w(e)!=="svelte-xjm3q"&&(e.textContent=s)},m(t,l){_(t,e,l)},p:d,d(t){t&&i(e)}}}function ke(n){let e,s,t={ctx:n,current:null,token:null,hasCatch:!1,pending:ye,then:xe,catch:Ce,value:6};return R(s=n[5].json(),t),{c(){e=j(),t.block.c()},l(l){e=j(),t.block.l(l)},m(l,r){_(l,e,r),t.block.m(l,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e},p(l,r){n=l,t.ctx=n,r&1&&s!==(s=n[5].json())&&R(s,t)||se(t,n,r)},d(l){l&&i(e),t.block.d(l),t.token=null,t=null}}}function Ce(n){return{c:d,l:d,m:d,p:d,i:d,o:d,d}}function xe(n){let e,s,t,l,r=n[6].results[0].name.first+"",m,p,u=n[6].results[0].name.last+"",h,C;return{c(){e=v("div"),s=v("img"),l=g(),m=P(r),p=g(),h=P(u),this.h()},l(o){e=k(o,"DIV",{});var c=F(e);s=k(c,"IMG",{src:!0,alt:!0}),l=H(c),m=q(c,r),p=H(c),h=q(c,u),c.forEach(i),this.h()},h(){O(s.src,t=n[6].results[0].picture.medium)||x(s,"src",t),x(s,"alt","Usuario")},m(o,c){_(o,e,c),T(e,s),T(e,l),T(e,m),T(e,p),T(e,h)},p(o,c){c&1&&!O(s.src,t=o[6].results[0].picture.medium)&&x(s,"src",t),c&1&&r!==(r=o[6].results[0].name.first+"")&&z(m,r),c&1&&u!==(u=o[6].results[0].name.last+"")&&z(h,u)},i(o){o&&(C||ee(()=>{C=te(e,le,{y:250}),C.start()}))},o:d,d(o){o&&i(e)}}}function ye(n){return{c:d,l:d,m:d,p:d,i:d,o:d,d}}function ge(n){let e,s='<h1 class="font-bold text-xl">Carregando...</h1>';return{c(){e=v("div"),e.innerHTML=s,this.h()},l(t){e=k(t,"DIV",{class:!0,"data-svelte-h":!0}),w(e)!=="svelte-1h7cbj6"&&(e.innerHTML=s),this.h()},h(){x(e,"class","animate-bounce")},m(t,l){_(t,e,l)},p:d,d(t){t&&i(e)}}}function He(n){let e,s,t,l,r=n[1].results[0].name.first+"",m,p,u=n[1].results[0].name.last+"",h,C;return{c(){e=v("div"),s=v("img"),l=g(),m=P(r),p=g(),h=P(u),this.h()},l(o){e=k(o,"DIV",{});var c=F(e);s=k(c,"IMG",{src:!0,alt:!0}),l=H(c),m=q(c,r),p=H(c),h=q(c,u),c.forEach(i),this.h()},h(){O(s.src,t=n[1].results[0].picture.medium)||x(s,"src",t),x(s,"alt","Usuario")},m(o,c){_(o,e,c),T(e,s),T(e,l),T(e,m),T(e,p),T(e,h)},p(o,c){c&2&&!O(s.src,t=o[1].results[0].picture.medium)&&x(s,"src",t),c&2&&r!==(r=o[1].results[0].name.first+"")&&z(m,r),c&2&&u!==(u=o[1].results[0].name.last+"")&&z(h,u)},i(o){o&&(C||ee(()=>{C=te(e,le,{y:-250}),C.start()}))},o:d,d(o){o&&i(e)}}}function Te(n){let e,s='<h2 class="font-bold text-xl">Carregando...</h2>';return{c(){e=v("div"),e.innerHTML=s,this.h()},l(t){e=k(t,"DIV",{class:!0,"data-svelte-h":!0}),w(e)!=="svelte-15xxgpe"&&(e.innerHTML=s),this.h()},h(){x(e,"class","animate-bounce")},m(t,l){_(t,e,l)},p:d,i:d,o:d,d(t){t&&i(e)}}}function Me(n){let e,s,t="Usando bloco await do Svelte",l,r,m="Novo usuário",p,u,h,C,o,c,J=`Usando async/await nativo do JS:
  <p class="inline-block text-sm">(Sem loading global)</p>`,V,M,K="Novo usuário",D,I,N,L,E,Q=`API em uso no exemplo:
  <a class="text-blue-500" href="https://randomuser.me/" target="_blank">https://randomuser.me/</a>`,A,W,b=n[0]&&$(n);function X(a,f){return!a[1]||a[2]?Te:He}let S=X(n),y=S(n);return{c(){e=g(),s=v("h1"),s.textContent=t,l=g(),r=v("button"),r.textContent=m,p=g(),u=v("div"),b&&b.c(),h=g(),C=v("hr"),o=g(),c=v("h1"),c.innerHTML=J,V=g(),M=v("button"),M.textContent=K,D=g(),y.c(),I=g(),N=v("hr"),L=g(),E=v("div"),E.innerHTML=Q,this.h()},l(a){oe("svelte-383ml6",document.head).forEach(i),e=H(a),s=k(a,"H1",{class:!0,"data-svelte-h":!0}),w(s)!=="svelte-1nuxkhe"&&(s.textContent=t),l=H(a),r=k(a,"BUTTON",{class:!0,"data-svelte-h":!0}),w(r)!=="svelte-t9zcep"&&(r.textContent=m),p=H(a),u=k(a,"DIV",{class:!0});var Y=F(u);b&&b.l(Y),Y.forEach(i),h=H(a),C=k(a,"HR",{}),o=H(a),c=k(a,"H1",{class:!0,"data-svelte-h":!0}),w(c)!=="svelte-1xggqiv"&&(c.innerHTML=J),V=H(a),M=k(a,"BUTTON",{class:!0,"data-svelte-h":!0}),w(M)!=="svelte-1eltx7k"&&(M.textContent=K),D=H(a),y.l(a),I=H(a),N=k(a,"HR",{class:!0}),L=H(a),E=k(a,"DIV",{"data-svelte-h":!0}),w(E)!=="svelte-1p1p10l"&&(E.innerHTML=Q),this.h()},h(){document.title="Svelte teste - Promises",x(s,"class","font-bold text-2xl my-4"),x(r,"class","bg-primary-500 text-white p-2 hover:bg-primary-700 mb-4"),x(u,"class","mb-3"),x(c,"class","font-bold text-2xl my-4"),x(M,"class","bg-primary-500 text-white p-2 hover:bg-primary-700 mb-4"),x(N,"class","my-4")},m(a,f){_(a,e,f),_(a,s,f),_(a,l,f),_(a,r,f),_(a,p,f),_(a,u,f),b&&b.m(u,null),_(a,h,f),_(a,C,f),_(a,o,f),_(a,c,f),_(a,V,f),_(a,M,f),_(a,D,f),y.m(a,f),_(a,I,f),_(a,N,f),_(a,L,f),_(a,E,f),A||(W=[Z(r,"click",n[4]),Z(M,"click",n[3])],A=!0)},p(a,[f]){a[0]?b?b.p(a,f):(b=$(a),b.c(),b.m(u,null)):b&&(b.d(1),b=null),S===(S=X(a))&&y?y.p(a,f):(y.d(1),y=S(a),y&&(y.c(),G(y,1),y.m(I.parentNode,I)))},i(a){G(y)},o:d,d(a){a&&(i(e),i(s),i(l),i(r),i(p),i(u),i(h),i(C),i(o),i(c),i(V),i(M),i(D),i(I),i(N),i(L),i(E)),b&&b.d(),y.d(a),A=!1,ie(W)}}}function B(n=!1){return fetch("https://randomuser.me/api/",{skipLoading:n})}function we(n,e,s){let t,l,r=!1;ue(()=>{s(0,t=B()),m()});async function m(){try{s(2,r=!0);const u=await B(!0);if(u.ok){const h=await u.json();s(1,l=h)}else console.error("Erro ao obter usuário")}catch{console.error("Erro ao obter usuário")}finally{s(2,r=!1)}}return[t,l,r,m,()=>s(0,t=B())]}class Ee extends de{constructor(e){super(),he(this,e,we,Me,ce,{})}}const Ve=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"}));export{Ee as P,Ve as _};
