import{B as ee,C as te,q as L,i as le,s as se,n as v,r as re,o as ne,A as P}from"./scheduler.CwG2_Ctv.js";import{A as ae,w as ce,y as ue,v as oe,S as ie,i as _e,l as C,b as p,o as me,d as o,m as y,c as b,k as I,f as J,h as k,a as _,u as Z,e as q,t as A,g as O,j as g,s as B}from"./index.B0ZQfwwR.js";function G(r,e){const l=e.token={};function t(s,n,m,f){if(e.token!==l)return;e.resolved=f;let u=e.ctx;m!==void 0&&(u=u.slice(),u[m]=f);const d=s&&(e.current=s)(u);let i=!1;e.block&&(e.blocks?e.blocks.forEach((c,T)=>{T!==n&&c&&(ae(),ce(c,1,1,()=>{e.blocks[T]===c&&(e.blocks[T]=null)}),ue())}):e.block.d(1),d.c(),oe(d,1),d.m(e.mount(),e.anchor),i=!0),e.block=d,e.blocks&&(e.blocks[n]=d),i&&le()}if(ee(r)){const s=te();if(r.then(n=>{L(s),t(e.then,1,e.value,n),L(null)},n=>{if(L(s),t(e.catch,2,e.error,n),L(null),!e.hasCatch)throw n}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,r),!0;e.resolved=r}}function $(r,e,l){const t=e.slice(),{resolved:s}=r;r.current===r.then&&(t[r.value]=s),r.current===r.catch&&(t[r.error]=s),r.block.p(t,l)}function he(r){let e,l="Erro ao obter usuário";return{c(){e=p("div"),e.textContent=l},l(t){e=b(t,"DIV",{"data-svelte-h":!0}),I(e)!=="svelte-xjm3q"&&(e.textContent=l)},m(t,s){_(t,e,s)},p:v,d(t){t&&o(e)}}}function de(r){let e;function l(n,m){return n[5].ok?pe:fe}let t=l(r),s=t(r);return{c(){s.c(),e=q()},l(n){s.l(n),e=q()},m(n,m){s.m(n,m),_(n,e,m)},p(n,m){t===(t=l(n))&&s?s.p(n,m):(s.d(1),s=t(n),s&&(s.c(),s.m(e.parentNode,e)))},d(n){n&&o(e),s.d(n)}}}function fe(r){let e,l="Erro ao obter usuário";return{c(){e=p("div"),e.textContent=l},l(t){e=b(t,"DIV",{"data-svelte-h":!0}),I(e)!=="svelte-xjm3q"&&(e.textContent=l)},m(t,s){_(t,e,s)},p:v,d(t){t&&o(e)}}}function pe(r){let e,l,t={ctx:r,current:null,token:null,hasCatch:!1,pending:ke,then:ve,catch:be,value:6};return G(l=r[5].json(),t),{c(){e=q(),t.block.c()},l(s){e=q(),t.block.l(s)},m(s,n){_(s,e,n),t.block.m(s,t.anchor=n),t.mount=()=>e.parentNode,t.anchor=e},p(s,n){r=s,t.ctx=r,n&1&&l!==(l=r[5].json())&&G(l,t)||$(t,r,n)},d(s){s&&o(e),t.block.d(s),t.token=null,t=null}}}function be(r){return{c:v,l:v,m:v,p:v,d:v}}function ve(r){let e,l,t,s,n=r[6].results[0].name.first+"",m,f,u=r[6].results[0].name.last+"",d;return{c(){e=p("div"),l=p("img"),s=C(),m=A(n),f=C(),d=A(u),this.h()},l(i){e=b(i,"DIV",{});var c=J(e);l=b(c,"IMG",{src:!0,alt:!0}),s=y(c),m=O(c,n),f=y(c),d=O(c,u),c.forEach(o),this.h()},h(){P(l.src,t=r[6].results[0].picture.medium)||k(l,"src",t),k(l,"alt","Usuario")},m(i,c){_(i,e,c),g(e,l),g(e,s),g(e,m),g(e,f),g(e,d)},p(i,c){c&1&&!P(l.src,t=i[6].results[0].picture.medium)&&k(l,"src",t),c&1&&n!==(n=i[6].results[0].name.first+"")&&B(m,n),c&1&&u!==(u=i[6].results[0].name.last+"")&&B(d,u)},d(i){i&&o(e)}}}function ke(r){return{c:v,l:v,m:v,p:v,d:v}}function xe(r){let e,l='<h1 class="font-bold text-xl">Carregando...</h1>';return{c(){e=p("div"),e.innerHTML=l,this.h()},l(t){e=b(t,"DIV",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-6mx1wi"&&(e.innerHTML=l),this.h()},h(){k(e,"class","animate-bounce")},m(t,s){_(t,e,s)},p:v,d(t){t&&o(e)}}}function Ce(r){let e,l,t,s,n=r[1].results[0].name.first+"",m,f,u=r[1].results[0].name.last+"",d;return{c(){e=p("div"),l=p("img"),s=C(),m=A(n),f=C(),d=A(u),this.h()},l(i){e=b(i,"DIV",{});var c=J(e);l=b(c,"IMG",{src:!0,alt:!0}),s=y(c),m=O(c,n),f=y(c),d=O(c,u),c.forEach(o),this.h()},h(){P(l.src,t=r[1].results[0].picture.medium)||k(l,"src",t),k(l,"alt","Usuario")},m(i,c){_(i,e,c),g(e,l),g(e,s),g(e,m),g(e,f),g(e,d)},p(i,c){c&2&&!P(l.src,t=i[1].results[0].picture.medium)&&k(l,"src",t),c&2&&n!==(n=i[1].results[0].name.first+"")&&B(m,n),c&2&&u!==(u=i[1].results[0].name.last+"")&&B(d,u)},d(i){i&&o(e)}}}function ye(r){let e,l='<h2 class="font-bold text-xl">Carregando...</h2>';return{c(){e=p("div"),e.innerHTML=l,this.h()},l(t){e=b(t,"DIV",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-15xxgpe"&&(e.innerHTML=l),this.h()},h(){k(e,"class","animate-bounce")},m(t,s){_(t,e,s)},p:v,d(t){t&&o(e)}}}function we(r){let e,l,t="Usando bloco await do Svelte",s,n,m="Novo usuário",f,u,d,i,c,T,H,F="Usando async/await nativo do JS:",N,E,K="Novo usuário",U,j,D,V,M,Q=`API em uso no exemplo:
  <a class="text-blue-500" href="https://randomuser.me/" target="_blank">https://randomuser.me/</a>`,R,W,x={ctx:r,current:null,token:null,hasCatch:!0,pending:xe,then:de,catch:he,value:5};G(d=r[0],x);function X(a,h){return!a[1]||a[2]?ye:Ce}let S=X(r),w=S(r);return{c(){e=C(),l=p("h1"),l.textContent=t,s=C(),n=p("button"),n.textContent=m,f=C(),u=p("div"),x.block.c(),i=C(),c=p("hr"),T=C(),H=p("h1"),H.textContent=F,N=C(),E=p("button"),E.textContent=K,U=C(),w.c(),j=C(),D=p("hr"),V=C(),M=p("div"),M.innerHTML=Q,this.h()},l(a){me("svelte-383ml6",document.head).forEach(o),e=y(a),l=b(a,"H1",{class:!0,"data-svelte-h":!0}),I(l)!=="svelte-1nuxkhe"&&(l.textContent=t),s=y(a),n=b(a,"BUTTON",{class:!0,"data-svelte-h":!0}),I(n)!=="svelte-l2tvlx"&&(n.textContent=m),f=y(a),u=b(a,"DIV",{class:!0});var Y=J(u);x.block.l(Y),Y.forEach(o),i=y(a),c=b(a,"HR",{}),T=y(a),H=b(a,"H1",{class:!0,"data-svelte-h":!0}),I(H)!=="svelte-1gyx2h1"&&(H.textContent=F),N=y(a),E=b(a,"BUTTON",{class:!0,"data-svelte-h":!0}),I(E)!=="svelte-1204epo"&&(E.textContent=K),U=y(a),w.l(a),j=y(a),D=b(a,"HR",{class:!0}),V=y(a),M=b(a,"DIV",{"data-svelte-h":!0}),I(M)!=="svelte-1p1p10l"&&(M.innerHTML=Q),this.h()},h(){document.title="Svelte teste - Promises",k(l,"class","font-bold text-2xl my-4"),k(n,"class","bg-primary-700 text-white p-2 hover:bg-primary-500 mb-4"),k(u,"class","mb-3"),k(H,"class","font-bold text-2xl my-4"),k(E,"class","bg-primary-700 text-white p-2 hover:bg-primary-500 mb-4"),k(D,"class","my-4")},m(a,h){_(a,e,h),_(a,l,h),_(a,s,h),_(a,n,h),_(a,f,h),_(a,u,h),x.block.m(u,x.anchor=null),x.mount=()=>u,x.anchor=null,_(a,i,h),_(a,c,h),_(a,T,h),_(a,H,h),_(a,N,h),_(a,E,h),_(a,U,h),w.m(a,h),_(a,j,h),_(a,D,h),_(a,V,h),_(a,M,h),R||(W=[Z(n,"click",r[4]),Z(E,"click",r[3])],R=!0)},p(a,[h]){r=a,x.ctx=r,h&1&&d!==(d=r[0])&&G(d,x)||$(x,r,h),S===(S=X(r))&&w?w.p(r,h):(w.d(1),w=S(r),w&&(w.c(),w.m(j.parentNode,j)))},i:v,o:v,d(a){a&&(o(e),o(l),o(s),o(n),o(f),o(u),o(i),o(c),o(T),o(H),o(N),o(E),o(U),o(j),o(D),o(V),o(M)),x.block.d(),x.token=null,x=null,w.d(a),R=!1,re(W)}}}function z(){return fetch("https://randomuser.me/api/")}function ge(r,e,l){let t=z(),s,n=!1;ne(()=>{m()});async function m(){try{l(2,n=!0);const u=await z();if(u.ok){const d=await u.json();l(1,s=d)}else console.error("Erro ao obter usuário")}catch{console.error("Erro ao obter usuário")}finally{l(2,n=!1)}}return[t,s,n,m,()=>l(0,t=z())]}class Ee extends ie{constructor(e){super(),_e(this,e,ge,we,se,{})}}const He=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"}));export{Ee as P,He as _};
