import{s as Ee,e as Y,i as k,n as ce,d as c,D as ke,a as p,o as y,t as B,b as h,f as I,l as M,p as g,g as w,h as V,j as r,x as ne,k as q,v as De,w as ve,E as me,y as $e,A as _e,F as Ie}from"./scheduler.AUW676-h.js";import{S as ye,i as ge,t as X,a as ie,c as Ve,b as Be,d as we,m as Pe,e as je,f as qe,g as Ne}from"./index.DFh3nrOS.js";import{e as W,l as pe}from"./store.DXJGYc-C.js";import{f as Te}from"./index.CugFbeuC.js";function he(a){let t,e,l,n="Estado:",_,o=a[0].uf+"",i,b,v,C,N="Cidade:",T,d=a[0].localidade+"",u,s,f,D,oe="Bairro:",Z,S=a[0].bairro+"",O,ee,P,F,re="Logradouro:",te,x=a[0].logradouro+"",U,le,j,L,ue="Complemento:",ae,A=(a[0].complemento||"-")+"",z,H,$,de="Disparar output event",se,fe;return{c(){t=p("div"),e=p("div"),l=p("b"),l.textContent=n,_=y(),i=B(o),b=y(),v=p("div"),C=p("b"),C.textContent=N,T=y(),u=B(d),s=y(),f=p("div"),D=p("b"),D.textContent=oe,Z=y(),O=B(S),ee=y(),P=p("div"),F=p("b"),F.textContent=re,te=y(),U=B(x),le=y(),j=p("div"),L=p("b"),L.textContent=ue,ae=y(),z=B(A),H=y(),$=p("button"),$.textContent=de,this.h()},l(E){t=h(E,"DIV",{class:!0});var m=I(t);e=h(m,"DIV",{});var G=I(e);l=h(G,"B",{"data-svelte-h":!0}),M(l)!=="svelte-lpe1rc"&&(l.textContent=n),_=g(G),i=w(G,o),G.forEach(c),b=g(m),v=h(m,"DIV",{});var J=I(v);C=h(J,"B",{"data-svelte-h":!0}),M(C)!=="svelte-phmq7u"&&(C.textContent=N),T=g(J),u=w(J,d),J.forEach(c),s=g(m),f=h(m,"DIV",{});var K=I(f);D=h(K,"B",{"data-svelte-h":!0}),M(D)!=="svelte-1gte1q5"&&(D.textContent=oe),Z=g(K),O=w(K,S),K.forEach(c),ee=g(m),P=h(m,"DIV",{});var Q=I(P);F=h(Q,"B",{"data-svelte-h":!0}),M(F)!=="svelte-13clcz0"&&(F.textContent=re),te=g(Q),U=w(Q,x),Q.forEach(c),le=g(m),j=h(m,"DIV",{});var R=I(j);L=h(R,"B",{"data-svelte-h":!0}),M(L)!=="svelte-13r29mv"&&(L.textContent=ue),ae=g(R),z=w(R,A),R.forEach(c),m.forEach(c),H=g(E),$=h(E,"BUTTON",{class:!0,"data-svelte-h":!0}),M($)!=="svelte-1pnjpbp"&&($.textContent=de),this.h()},h(){V(t,"class","grid grid-cols-3 gap-2 mt-4"),V($,"class","primary mt-4")},m(E,m){k(E,t,m),r(t,e),r(e,l),r(e,_),r(e,i),r(t,b),r(t,v),r(v,C),r(v,T),r(v,u),r(t,s),r(t,f),r(f,D),r(f,Z),r(f,O),r(t,ee),r(t,P),r(P,F),r(P,te),r(P,U),r(t,le),r(t,j),r(j,L),r(j,ae),r(j,z),k(E,H,m),k(E,$,m),se||(fe=ne($,"click",a[1]),se=!0)},p(E,m){m&1&&o!==(o=E[0].uf+"")&&q(i,o),m&1&&d!==(d=E[0].localidade+"")&&q(u,d),m&1&&S!==(S=E[0].bairro+"")&&q(O,S),m&1&&x!==(x=E[0].logradouro+"")&&q(U,x),m&1&&A!==(A=(E[0].complemento||"-")+"")&&q(z,A)},d(E){E&&(c(t),c(H),c($)),se=!1,fe()}}}function Fe(a){let t,e=a[0]&&he(a);return{c(){e&&e.c(),t=Y()},l(l){e&&e.l(l),t=Y()},m(l,n){e&&e.m(l,n),k(l,t,n)},p(l,[n]){l[0]?e?e.p(l,n):(e=he(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:ce,o:ce,d(l){l&&c(t),e&&e.d(l)}}}function Le(a,t,e){let{address:l}=t;const n=ke();function _(){n("myEvent",{uf:l==null?void 0:l.uf})}return a.$$set=o=>{"address"in o&&e(0,l=o.address)},[l,_]}class Me extends ye{constructor(t){super(),ge(this,t,Le,Fe,Ee,{address:0})}}function be(a){let t,e;return{c(){t=B("- "),e=B(a[1])},l(l){t=w(l,"- "),e=w(l,a[1])},m(l,n){k(l,t,n),k(l,e,n)},p(l,n){n&2&&q(e,l[1])},d(l){l&&(c(t),c(e))}}}function Ce(a){let t,e,l,n,_;return e=new Me({props:{address:a[2]}}),e.$on("myEvent",Ae),{c(){t=p("div"),l=p("div"),Be(e.$$.fragment),this.h()},l(o){t=h(o,"DIV",{});var i=I(t);l=h(i,"DIV",{style:!0});var b=I(l);we(e.$$.fragment,b),i.forEach(c),this.h()},h(){_e(l,"display","contents"),_e(l,"--mt-4","teste")},m(o,i){k(o,t,i),r(t,l),Pe(e,l,null),_=!0},p(o,i){a=o;const b={};i&4&&(b.address=a[2]),e.$set(b)},i(o){_||(X(e.$$.fragment,o),o&&(n||Ie(()=>{n=je(t,Te,a[3]),n.start()})),_=!0)},o(o){ie(e.$$.fragment,o),_=!1},d(o){o&&c(t),qe(e)}}}function Se(a){let t,e,l=a[0].title+"",n,_,o,i,b,v,C,N,T,d=a[1]&&be(a),u=a[2]&&Ce(a);return{c(){t=y(),e=p("h1"),n=B(l),_=y(),d&&d.c(),o=y(),i=p("input"),b=y(),u&&u.c(),v=Y(),this.h()},l(s){De("svelte-6e2o80",document.head).forEach(c),t=g(s),e=h(s,"H1",{class:!0});var D=I(e);n=w(D,l),_=g(D),d&&d.l(D),D.forEach(c),o=g(s),i=h(s,"INPUT",{type:!0,inputmode:!0,placeholder:!0,maxlength:!0,class:!0}),b=g(s),u&&u.l(s),v=Y(),this.h()},h(){document.title="Svelte teste - CEP",V(e,"class","text-3xl"),V(i,"type","text"),V(i,"inputmode","numeric"),V(i,"placeholder","CEP"),V(i,"maxlength","9"),V(i,"class","mt-1 rounded-md border-gray-300 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50")},m(s,f){k(s,t,f),k(s,e,f),r(e,n),r(e,_),d&&d.m(e,null),k(s,o,f),k(s,i,f),ve(i,a[1]),k(s,b,f),u&&u.m(s,f),k(s,v,f),C=!0,N||(T=[ne(i,"input",a[5]),ne(i,"input",a[4]),me(xe.call(null,i,{timeout:10})),me(Oe.call(null,i))],N=!0)},p(s,[f]){(!C||f&1)&&l!==(l=s[0].title+"")&&q(n,l),s[1]?d?d.p(s,f):(d=be(s),d.c(),d.m(e,null)):d&&(d.d(1),d=null),f&2&&i.value!==s[1]&&ve(i,s[1]),s[2]?u?(u.p(s,f),f&4&&X(u,1)):(u=Ce(s),u.c(),X(u,1),u.m(v.parentNode,v)):u&&(Ne(),ie(u,1,1,()=>{u=null}),Ve())},i(s){C||(X(u),C=!0)},o(s){ie(u),C=!1},d(s){s&&(c(t),c(e),c(o),c(i),c(b),c(v)),d&&d.d(),u&&u.d(s),N=!1,$e(T)}}}function xe(a,{timeout:t}){return setTimeout(()=>{a.focus()},t),{destroy:()=>{console.log("vai ser chamado quando a tela for destruída")}}}function Ae(a){alert(a.detail.uf)}function Oe(a){const t=()=>{a.value=Ue(a.value)};return a.addEventListener("input",t),{destroy:()=>{removeEventListener("input",t)}}}function Ue(a){return a.replace(/\D+/,"").replace(/(\d{5})(\d+)$/g,"$1-$2")}function ze(a,t,e){let{data:l}=t,n,_;const o={y:200};async function i(){if((n==null?void 0:n.length)===9){W.set(""),pe.set(!0);try{const v=await fetch(`https://viacep.com.br/ws/${n.replace("-","")}/json/`),C=await v.json();if(!v.ok){W.set("Falha na comunicação com o servidor");return}if(C.erro){W.set("CEP inválido");return}e(2,_=C)}finally{pe.set(!1)}}else e(2,_=void 0),W.set("")}function b(){n=this.value,e(1,n)}return a.$$set=v=>{"data"in v&&e(0,l=v.data)},[l,n,_,o,i,b]}class Qe extends ye{constructor(t){super(),ge(this,t,ze,Se,Ee,{data:0})}}export{Qe as default};
